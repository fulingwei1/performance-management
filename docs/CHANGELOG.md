# 更新日志

所有重要变更记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/)。

---

## [2.0.0] - 2026-02-28 (Phase 3)

### 新增

- **数据导入模块**
  - Excel 批量导入员工信息
  - Excel 批量导入绩效数据
  - 导入模板下载功能
  - 导入前数据预览和校验
  - 行级别错误提示
  - 依赖 `exceljs` 和 `multer`

- **数据导出模块**
  - 员工数据 Excel/CSV 导出
  - 绩效数据多格式导出
  - 按部门/时间筛选导出
  - 综合报告导出

- **绩效分析仪表板**
  - 全局绩效概览
  - 月度/季度趋势分析图
  - 部门间横向对比
  - 绩效等级分布分析

- **组织架构可视化**
  - ReactFlow 组织树展示
  - Dagre 自动布局算法
  - 缩放、拖拽交互
  - 点击节点查看部门/人员详情
  - 依赖 `reactflow`、`dagre`、`html2canvas`

- **OKR 管理**
  - OKR 创建和管理
  - 进度跟踪

- **奖金管理**
  - 奖金数据查看
  - 基于绩效的奖金计算

### 改进

- 前端性能优化，减少不必要的重渲染
- API 响应速度提升
- 图表组件升级

### 依赖更新

- 新增 `exceljs` ^4.x — Excel 文件读写
- 新增 `multer` ^2.x — 文件上传处理
- 新增 `reactflow` ^11.x — 流程图/组织架构
- 新增 `dagre` ^0.8.x — 图布局算法
- 新增 `html2canvas` ^1.x — 页面截图导出

---

## [1.5.0] - 2026-02-15 (Phase 2)

### 新增

- **绩效合约**
  - 年度绩效合约创建
  - 合约签署确认流程
  - 合约历史查看

- **绩效面谈**
  - 面谈记录创建和管理
  - 行动计划跟踪

- **绩效申诉**
  - 员工提交绩效申诉
  - 经理/HR 申诉处理流程
  - 申诉历史记录

- **考核发布**
  - 考核周期管理
  - 考核结果批量发布
  - 发布自动通知

- **审计日志**
  - 全操作审计追踪
  - 多维度日志查询（操作类型/用户/日期）

- **通知系统**
  - 站内通知推送
  - 单条/全部已读管理

- **AI 使用统计**
  - 个人 AI 调用统计（次数/Token/成本）
  - Admin 全局统计和排行榜

- **其他功能**
  - 待办事项管理
  - 指标库（可复用 KPI 模板）
  - 自动化任务配置

### 改进

- 评价关键词库扩展至 144 个关键词
- 关键词分类优化（7 大类 × 正/负向）
- 角色权限控制增强
- 登录问题修复

---

## [1.0.0] - 2026-01-20 (Phase 1)

### 新增

- **用户认证**
  - JWT 登录认证
  - 五种角色权限（Employee/Manager/HR/GM/Admin）
  - 密码 bcrypt 加密

- **战略目标**
  - GM 设定公司级战略目标
  - 年度/状态管理

- **目标管理**
  - 个人目标创建（关联战略目标）
  - AI 生成目标建议
  - 目标审批流程（上级通过/驳回）
  - 员工目标确认与反馈
  - 季度进度填报
  - 上级点评
  - 目标仪表板（个人+团队）

- **KPI 管理**
  - 经理分配 KPI
  - 权重和目标值设置
  - KPI 进度跟踪

- **月度绩效**
  - 月度评分（0-100）
  - 三种评价方式：手动输入、AI 生成、关键词选择
  - 评分历史查看

- **同事互评**
  - 互评周期管理（HR）
  - 跨部门互评
  - 匿名/实名选项
  - AI 辅助评价

- **季度总结**
  - 经理季度工作总结
  - AI 生成总结

- **晋升管理**
  - 员工晋升申请
  - 四项 AI 辅助总结
  - 多级审批流程

- **基础设施**
  - 部门管理
  - 员工管理（CRUD）
  - 仪表板
  - Docker 部署支持
  - Vercel 部署支持
  - PostgreSQL / MySQL 双数据库支持

---

## 版本规划

| 版本 | 计划时间 | 主要内容 |
|------|---------|---------|
| v2.1 | 2026 Q2 | 移动端适配、邮件通知 |
| v2.5 | 2026 Q3 | SSO 集成、多语言支持 |
| v3.0 | 2026 Q4 | 移动 App、WebSocket 实时推送 |
